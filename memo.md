# spring-batch playground

- JobRepository
  - バッチの実行結果を保存してくれる機能
  - バッチに渡したパラメータ、件数、ステータスなどを保存
- JobLauncher
  - バッチを実行してくれる機能
- Job
  - バッチ処理全体、複数の Step で構成される
- Step
  - バッチ処理の最小単位

- Step には2つのモデルがある
  - Chunk
    - データの読み込み、加工、書き込みなどの定型処理を作るときに使用
    - ItemReader,ItemProcessor,ItemWriter の Interface が提供されている
  - Tasklet
    - Chunk では作れない機能を実装するときに使用

- Listener(even listener)
  - 何かしらをきっかけに起動する処理のこと
  - Webアプリケーションと違い画面がないためログ出力が肝心

- データ復旧が不要なようにバッチを作成する
  - 例外処理を適切に行う
    - 特定の例外が発生したときに、それに応じた処理を行う
    - データの整合性が取れるようにロールバックする
  - 冪等性のある作りにする(何回バッチを実行しても同じ結果になる)
    - 登録済みのデータは insert しない
    - 1度処理したデータを対象外とすることで処理件数が減る

- 並行は異なる処理を複数同時に実行する
  - 複数の作業者が別々の作業をする
- 並列は同じ処理を複数同時に実行する
